<app-map></app-map>
<div class="actions actions--upper">
  <button type="button" class="actions__button actions__button--long">
    <div class="actions__button__text">Versión: Demo</div>
  </button>
  <a href="https://github.com/LuisReinoso/covid-19-community-tracker">
  <button type="button" class="actions__button">
    <div class="actions__button__text">Github</div>
  </button>
  </a>
</div>

<div class="actions">
  <ng-container *ngIf="isActionInProgress$ | async; else actionsTemplate">
    <button type="button" class="actions__button actions__button--long" (click)="getMyGPSLocation()">
      <fa-icon [icon]="faSpinner" [spin]="true"></fa-icon>
    </button>
  </ng-container>
  <ng-template #actionsTemplate>
    <ng-container *ngIf="mapService.location$ | async; else requestLocationTemplate">
      <button type="button" class="actions__button" (click)="uploadData()">
        <fa-icon [icon]="faMapMarker"></fa-icon>
      </button>
      <button type="button" class="actions__button actions__button--long" (click)="checkProximity()">
        <fa-icon [icon]="faSyncAlt"></fa-icon>
        <div class="actions__button__text actions__button__text--left">Proximidad</div>
      </button>
      <button type="button" class="actions__button" (click)="panToMyLocation()">
        <fa-icon [icon]="faMapPin"></fa-icon>
      </button>
    </ng-container>
    <ng-template #requestLocationTemplate>
      <button type="button" class="actions__button actions__button--long" (click)="getMyGPSLocation();">
        <fa-icon [icon]="faCompass"></fa-icon>
        <div class="actions__button__text actions__button__text--left">Obtener mi ubicación</div>
      </button>
    </ng-template>
  </ng-template>
</div>
